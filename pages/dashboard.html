<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard D3.js</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f6f8;
    }
    /* grid container untuk panels */
    .dashboard {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-auto-rows: minmax(300px, auto);
      gap: 20px;
      padding: 20px;
    }
    .panel {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      padding: 12px;
      position: relative;
    }
    .panel h3 {
      margin: 0 0 10px;
      font-size: 1.1rem;
      border-bottom: 1px solid #eee;
      padding-bottom: 6px;
    }
    /* penempatan manual */
    #panel1 { grid-column: 1; }
    #panel2 { grid-column: 2; }
    #panel3 { grid-column: 3; }
    #panel4 { grid-column: 1; }
    #panel5 { grid-column: 2; }
    /* full‚Äêwidth untuk SVG agar responsif */
    .panel svg {
      width: 100%;
      height: 100%;
    }
    /* styling tombol filter (panel2) */
    .filter-btns {
      text-align: center;
      margin-top: 8px;
    }
    .filter-btns button {
      margin: 0 4px;
      padding: 6px 12px;
      border: none;
      border-radius: 4px;
      background: #ddd;
      cursor: pointer;
    }
    .filter-btns button.active {
      background: #bbb;
      box-shadow: inset 0 0 3px #888;
    }
  </style>
</head>
<body>

  <!-- Navbar (static file) -->
  <div id="navbar-container"></div>

  <div class="dashboard">
    <!-- Panel 1: boxplot + table -->
    <div id="panel1" class="panel">
      <h3>Stress vs Exam Score</h3>
      <div id="box-plot"></div>
      <div id="stats-summary"></div>
    </div>

    <!-- Panel 2: bar + line + filter -->
    <div id="panel2" class="panel">
      <h3>Avg Score & Stress by Learning Style</h3>
      <svg id="chart" width="100%" height="300"></svg>
      <div class="filter-btns">
        <button class="filter-all active">All</button>
        <button class="filter-male">Male</button>
        <button class="filter-female">Female</button>
      </div>
    </div>

    <!-- Panel 3: heatmap social media -->
    <div id="panel3" class="panel">
      <h3>Heatmap: Social Media vs Score</h3>
      <select id="genderFilter" style="margin-bottom:8px;">
        <option value="all">All</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
      <div id="heatmap1"></div>
    </div>

    <!-- Panel 4: correlation heatmap -->
    <div id="panel4" class="panel">
      <h3>Correlation Heatmap</h3>
      <div id="heatmap2"></div>
    </div>

    <!-- Panel 5: grouped bar chart -->
    <div id="panel5" class="panel">
      <h3>Avg Score by #Online Courses</h3>
      <div id="bar-group">
        <svg width="100%" height="300"></svg>
      </div>
    </div>
  </div>

  <script>
    // load navbar.html secara statis
    fetch("../navbar/Navbar.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("navbar-container").innerHTML = html;
        // kalau navbar kamu butuh init JS, panggil di sini
        if (window.markActiveNavLink) markActiveNavLink();
        if (window.setupNavbarInteractions) setupNavbarInteractions();
      });
  </script>

  <!-- setelah navbar, load kelima skrip D3 kamu -->
  <script src="/js/pertanyaan01.js"></script> <!-- buat #box-plot & #stats-summary -->
  <script src="/js/pertanyaan02.js"></script> <!-- buat svg#chart & tombol -->
  <script src="/js/pertanyaan03.js"></script> <!-- ganti selektor ke "#heatmap1" -->
  <script src="/js/pertanyaan04.js"></script> <!-- ganti selektor ke "#heatmap2" -->
  <script src="/js/pertanyaan05.js"></script> <!-- otomatis target <svg> di #bar-group -->
</body>
</html>
